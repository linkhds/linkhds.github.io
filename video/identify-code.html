<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>验证码</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="css/sm.min.css">
    <link rel="stylesheet" href="css/common.css" />
</head>

<body>
    <div class="page identify-code">
        <header class="bar bar-nav">
            <a class="button button-link button-nav pull-left back" href="" data-transition='slide-out'>
		      <span class="icon icon-left"></span>
		    </a>
            <h1 class="title">输入短信验证码</h1>
        </header>
        <nav class="bar bar-tab">
		   <div class="helps">
                <a external href="http://www.baidu.com" >遇到问题</a>
            </div>
		</nav>
        <div class="content">
            <h2 class="tip-text">已发送短信验证码至+86  <span>150****6732</span></h2>
            <div class="code-input">
            	<input class="" type="number" maxlength="1" />
            	<input class="" type="number" maxlength="1" />
            	<input class="" type="number" maxlength="1" />
            	<input class="" type="number" maxlength="1" />
            	<input class="" type="number" maxlength="1" />
            	<input class="" type="number" maxlength="1" />
            </div>
            <p class="tip-second">接收短信大约需要<i class="second-num">53</i>秒</p>
        </div>   
    </div>
    <script type='text/javascript' src='js/zepto.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='js/sm.min.js' charset='utf-8'></script>
    <script>
    	$(".code-input input").focus(function() {
    		if($(this).prev().val() == "" && $(this).val() == "") {
    			$(this).blur().prev().focus();
    		}
    	})
    	$(".code-input input").bind('input propertychange',function() {
    		if($(this).index() == 0 && $(this).val().length == 6) {
    			var str = $(this).val().split("");
    			$(".code-input input").eq(0).val(str[0]);
    			$(".code-input input").eq(1).val(str[1]);
    			$(".code-input input").eq(2).val(str[2]);
    			$(".code-input input").eq(3).val(str[3]);
    			$(".code-input input").eq(4).val(str[4]);
    			$(".code-input input").eq(5).val(str[5]).focus();
    		}else if( $(this).index() != 5 && $(this).next().val() == "") {
    			$(this).blur().next().focus();
    		}else if($(this).val().length > 1 ) {
    			$(this).val($(this).val().slice(0,1))
    		}
    	})
    	$(".code-input input").bind('keydown',function(e) {
    		if(e.keyCode === 8 && $(this).val().length == 0 &&  $(this).index() != 0 ) {
    			$(this).blur().prev().focus();
    		}
    	})

    </script>
</body>
</html>