<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
	<title>首页</title>
	<link rel="stylesheet" href="css/reset.css" />
	<script src="js/jquery-2.2.3.min.js"></script>
	<script src="js/hammer.min.js"></script>
	<script src="js/jquery.hammer.js"></script>
	<script src="js/common.js"></script>
	<script src="ckplayer/ckplayer.js"></script>
</head>
<body>
	<div class="main">
		<ul class="main-nav">
			<li ><a href="index.html">搞笑</a></li>
			<li ><a href="index1.html">电影</a></li>
			<li class="act"><a href="index2.html">电视剧</a></li>
		</ul>
		<div class="main-cell">
			<ul id="thelist">
				<li>
					<div class="videos">
						<div class="video-li" id="video1"></div>
						<div class="down">
							<span>分享</span>
						</div>
					</div>
				</li>
				<li>
					<div class="videos">
						<div class="video-li" id="video2"></div>
						<div class="down">
							<span>分享</span>
						</div>
					</div>
				</li>
				<li>
					<div class="videos">
						<div class="video-li" id="video3"></div>
						<div class="down">
							<span>分享</span>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</body>
<script>

	function loadvideo(videoUrl,picture,id) {
		var flashvars={
		f: videoUrl,//视频地址
		c:1,
		b:1,
		i: picture//未播放时显示的图片
		};
		var video=[ videoUrl + '->video/mp4','http://www.ckplayer.com/webm/0.webm->video/webm','http://www.ckplayer.com/webm/0.ogv->video/ogg'];
		CKobject.embed('ckplayer/ckplayer.swf',id,'ckplayer_'+ id ,'100%','100%',false,flashvars,video)
	};
	loadvideo('video/media.mp4','images/1.jpg','video1');
	loadvideo('video/media.mp4','images/2.jpg','video2');
	loadvideo('video/media.mp4','images/1.jpg','video3');

	var loading = 'off';
	$(window).on("scroll", function () {

        var documentH = $(document).height();//页面高度
        var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;//滚动条高高度,注意解决兼容性
        var windowHeight = $(window).height();

        if (scrollTop + 100 >= documentH - windowHeight) {
        
        		pullUpAction();
        	
            
        }

    });
    function pullUpAction () {

        setTimeout(function () {    
            var el, li, i;
            el = document.getElementById('thelist');
            for(var i = 0;i< 3;i++) {
                    li = document.createElement('li');
                    li.innerHTML = "<div class='videos'><div class='video-li' id='video2'></div><div class='down'><span>分享</span></div></div>";
                    el.appendChild(li, el.childNodes[0]);
                }
        }, 500);

          
    } 
</script>
</html>